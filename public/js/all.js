$(function(){function a(){}function b(b,c){b&&c?(weeknr_volgende=c+1,weeknr_vorige=c-1,$.get("/rooster/"+b+"/"+c,function(d){$(".hetrooster").html(d),$(".js-weeknr-show").text(c),$(".js-klas-show").text(b.replace(/;/g,", ")),$(".js-permalink-toggle").show();var e="http://pluff.nl/"+b;$(".js-permalink").text(e).attr("href",e),history.pushState(null,null,"/"+b+"/"+c),a()})):($(".js-klas").val(""),$(".js-permalink-toggle").hide(),$(".hetrooster").html(""),$("body").removeClass("rooster-actief"),$(".js-weeknr-show").text(weeknr_huidig),$(".js-klas-show").text(""),history.pushState(null,null,"/"))}a(),$(".js-klas").on("keyup change",function(){var a=$(this).val().replace(/\s+/g,"").replace(/,/g,";").toLowerCase();weeknr=weeknr_huidig,klasOrig=a,$("body").addClass("rooster-actief"),b(klasOrig,weeknr_huidig)}),$(".js-vorige").on("click",function(a){a.preventDefault(),weeknr-=1,0==weeknr&&(weeknr=52),b(klasOrig,weeknr)}),$(".js-huidige").on("click",function(a){a.preventDefault(),weeknr=weeknr_huidig,b(klasOrig,weeknr)}),$(".js-volgende").on("click",function(a){a.preventDefault(),weeknr+=1,53==weeknr&&(weeknr=1),b(klasOrig,weeknr)}),$(".js-home").on("click",function(a){a.preventDefault(),b(null,null)})});