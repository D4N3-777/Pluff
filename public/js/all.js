function getStatus(){}function roosterLaden(a,b){$("body").addClass("rooster-actief"),a&&b?(weeknr_volgende=b+1,weeknr_vorige=b-1,$.get("/rooster/"+a+"/"+b,function(c){$(".hetrooster").html(c),$(".js-weeknr-show").text(b),$(".js-klas-show").text(a.replace(/;/g,", ")),$(".js-permalink-toggle").show();var d=appUrl+"/"+a;$(".js-permalink").text(d).attr("href",d),$(".js-alleszien:parent").addClass("show-for-small-only"),history.pushState(null,null,"/"+a+"/"+b),getStatus()})):($(".js-klas").val(""),$(".js-permalink-toggle").hide(),$(".hetrooster").html(""),$("body").removeClass("rooster-actief"),$(".js-weeknr-show").text(weeknr_huidig),$(".js-klas-show").text(""),history.pushState(null,null,"/"))}function roosterLink(a){weeknr=weeknr_huidig,klasOrig=a,roosterLaden(a,weeknr_huidig),$(".js-klas").val(a)}function popupOpenen(a){$.get("/"+a,function(a){$(".popup").html(a),$(".popup-achtergrond").fadeIn(200),$(".popup").fadeIn(200)}),$(document).on("keyup",function(a){27===a.keyCode&&popupSluiten()})}function popupSluiten(){$(".popup-achtergrond").fadeOut(200),$(".popup").fadeOut(200),$(document).off("keyup")}$(function(){getStatus(),$(".js-roosterlink").on("click",function(a){a.preventDefault(),roosterLink($(this).data("rooster"))}),$(".js-klas").on("input",function(){clearTimeout($(this).data("timer"));var a=$(this);$(this).data("timer",setTimeout(function(){var b=a.val().replace(/\s+/g,"").replace(/,/g,";").toLowerCase();weeknr=weeknr_huidig,klasOrig=b,roosterLaden(klasOrig,weeknr_huidig)},400))}),$(".js-vorige").on("click",function(a){a.preventDefault(),weeknr-=1,0===weeknr&&(weeknr=52),roosterLaden(klasOrig,weeknr)}),$(".js-huidige").on("click",function(a){a.preventDefault(),weeknr=weeknr_huidig,roosterLaden(klasOrig,weeknr)}),$(".js-volgende").on("click",function(a){a.preventDefault(),weeknr+=1,53==weeknr&&(weeknr=1),roosterLaden(klasOrig,weeknr)}),$(".js-home").on("click",function(a){a.preventDefault(),roosterLaden(null,null)}),$(".js-alleszien").on("click",function(a){a.preventDefault(),$(".dag, .js-controls").removeClass("hide-for-small-only"),$(".js-alleszien:parent").hide()})}),$(function(){$(".js-popup").on("click",function(a){a.preventDefault();var b=$(this).attr("href");popupOpenen(b)}),$(".popup").on("click",".sluit-popup",function(a){a.preventDefault(),popupSluiten()}),$(".popup").on("click",".cheat-link",function(a){a.preventDefault(),roosterLink($(this).text()),popupSluiten()})});